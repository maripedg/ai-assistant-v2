# --- Oracle 23ai ---
DB_DSN=ai-assistant-db-rodod:1521/FREEPDB1
DB_USER=ai_user
DB_PASSWORD=OracleMario$2025
ORACLEVS_TABLE=MY_DEMO

# --- OCI GenAI common ---
OCI_REGION=us-chicago-1
OCI_GENAI_ENDPOINT=https://inference.generativeai.us-chicago-1.oci.oraclecloud.com
OCI_COMPARTMENT_OCID=ocid1.compartment.oc1..aaaaaaaaxibr4amfvjf353m3nwpga7gvcrgpmkou2manorv2htmvjazrbcxa

# Auth via archivo config (~/.oci/config)
OCI_AUTH_MODE=config_file
OCI_CONFIG_PATH=/root/.oci/config
OCI_CONFIG_PROFILE=DEFAULT

# --- Models (alineado a tus scripts) ---
OCI_EMBED_MODEL_ID=cohere.embed-multilingual-v3.0   #cohere.embed-english-v3.0
OCI_LLM_MODEL_ID=cohere.embed-multilingual-v3.0   #cohere.embed-english-v3.0

# --- OCI LLM primary ---
OCI_LLM_PRIMARY_ENDPOINT=https://inference.generativeai.us-chicago-1.oci.oraclecloud.com
OCI_LLM_PRIMARY_COMPARTMENT_OCID=ocid1.compartment.oc1..aaaaaaaaxibr4amfvjf353m3nwpga7gvcrgpmkou2manorv2htmvjazrbcxa
OCI_LLM_PRIMARY_MODEL_ID=ocid1.generativeaimodel.oc1.us-chicago-1.amaaaaaask7dceya663hlflxfx6kiwn7qjlnpye6n7caii5lnvcpjlwr2s2q
OCI_LLM_PRIMARY_MAX_TOKENS=4000
OCI_LLM_PRIMARY_TEMPERATURE=0.2
OCI_LLM_PRIMARY_TOP_P=0.9
OCI_LLM_PRIMARY_TOP_K=50
OCI_LLM_PRIMARY_FREQUENCY_PENALTY=0.0
OCI_LLM_PRIMARY_PRESENCE_PENALTY=0.0

# --- OCI LLM fallback ---
OCI_LLM_FALLBACK_ENDPOINT=https://inference.generativeai.us-chicago-1.oci.oraclecloud.com
OCI_LLM_FALLBACK_COMPARTMENT_OCID=ocid1.compartment.oc1..aaaaaaaaxibr4amfvjf353m3nwpga7gvcrgpmkou2manorv2htmvjazrbcxa
OCI_LLM_FALLBACK_MODEL_ID=ocid1.generativeaimodel.oc1.us-chicago-1.amaaaaaask7dceya663hlflxfx6kiwn7qjlnpye6n7caii5lnvcpjlwr2s2q
OCI_LLM_FALLBACK_MAX_TOKENS=4000
OCI_LLM_FALLBACK_TEMPERATURE=0.2
OCI_LLM_FALLBACK_TOP_P=0.9
OCI_LLM_FALLBACK_TOP_K=50
OCI_LLM_FALLBACK_FREQUENCY_PENALTY=0.0
OCI_LLM_FALLBACK_PRESENCE_PENALTY=0.0

# --- Retrieval policy ---
RETRIEVAL_TOP_K=8
RETRIEVAL_THRESHOLD_LOW=0.4
RETRIEVAL_THRESHOLD_HIGH=0.8


# pipeline de embeddings
EMBED_ACTIVE_PROFILE=legacy_profile
EMBED_ALIAS_NAME=MY_DEMO
EMBED_ACTIVE_INDEX=v1
EMBED_BATCH_SIZE=1
EMBED_WORKERS=1
EMBED_RATE_LIMIT_PER_MIN=300


SANITIZE_ENABLED=off             # off | shadow | on
SANITIZE_PROFILE=default             # nombre l√≥gico del perfil
SANITIZE_CONFIG_PATH=backend/config/sanitize
SANITIZE_PLACEHOLDER_MODE=redact     # redact | pseudonym
SANITIZE_HASH_SALT=changeme          # si usas pseudonym
SANITIZE_AUDIT_ENABLED=true


PDF_OCR_MODE=auto    #off | auto | force
PDF_OCR_LANGS=eng+spa      # Tesseract languages to load
PDF_OCR_PAGE_LIMIT=0       # 0 = no limit; positive int to cap OCR pages
PDF_OCR_MIN_TEXT_CHARS=50  # if native extraction < threshold -> OCR (auto)

DATABASE_SQLALCHEMY_URL=oracle+oracledb://ai_user:OracleMario$2025@ai-assistant-db-rodod:1521/?service_name=FREEPDB1


SP_SYNC_BASE_URL=http://localhost:5030
SP_SITE_KEY=teleintegracionestxm.sharepoint.com,ca5a575b-a727-47a9-ba87-460a4cbfe7a1,790ea5f9-a766-4dff-9667-3bb757e8f570
SP_DOWNLOAD_DIR=/data/sharepoint/download        # microservice writes all files here (download/update single folder)

# Reuse the SAME embedding profile/flags already used in the app:
EMBED_PROFILE=multilingual_profile
EMBED_UPDATE_ALIAS=true
EMBED_EVALUATE=false

# Upload/scan constraints
ALLOW_MIME=
MAX_UPLOAD_MB=100

# Internal scheduler (APScheduler)
SP_SCHEDULE_ENABLED=true
SP_SCHEDULE_CRON=0 3 * * *                      # every day at 03:00
SP_TIMEZONE=America/Bogota

